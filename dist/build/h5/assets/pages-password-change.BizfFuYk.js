import{r as s,c as a,w as e,i as l,o,b as t,e as d,I as n,f as r,k as c,s as u,g as i,h as p,K as w,j as m}from"./index-CenjfmAL.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=f({__name:"change",setup(f){const _=s({oldPassword:"",newPassword:"",confirmPassword:""}),P=()=>{_.oldPassword&&_.newPassword&&_.confirmPassword?_.newPassword.length<6?u({title:"新密码长度不能少于6位",icon:"none"}):_.newPassword===_.confirmPassword?(i({title:"提交中..."}),setTimeout(()=>{p(),u({title:"密码修改成功，请重新登录",icon:"success"}),w("token"),w("userProfile"),setTimeout(()=>{m({url:"/pages/login/login"})},1500)},1500)):u({title:"两次输入的新密码不一致",icon:"none"}):u({title:"请填写所有字段",icon:"none"})},b=()=>{c()};return(s,c)=>{const u=l,i=n,p=r;return o(),a(u,{class:"change-password-container"},{default:e(()=>[t(u,{class:"navbar"},{default:e(()=>[t(u,{class:"back-btn",onClick:b},{default:e(()=>[d("<")]),_:1}),t(u,{class:"navbar-title"},{default:e(()=>[d("修改密码")]),_:1}),t(u,{class:"placeholder"})]),_:1}),t(u,{class:"form-wrapper"},{default:e(()=>[t(u,{class:"input-item"},{default:e(()=>[t(i,{type:"password",modelValue:_.oldPassword,"onUpdate:modelValue":c[0]||(c[0]=s=>_.oldPassword=s),placeholder:"请输入旧密码"},null,8,["modelValue"])]),_:1}),t(u,{class:"input-item"},{default:e(()=>[t(i,{type:"password",modelValue:_.newPassword,"onUpdate:modelValue":c[1]||(c[1]=s=>_.newPassword=s),placeholder:"请输入新密码（不少于6位）"},null,8,["modelValue"])]),_:1}),t(u,{class:"input-item"},{default:e(()=>[t(i,{type:"password",modelValue:_.confirmPassword,"onUpdate:modelValue":c[2]||(c[2]=s=>_.confirmPassword=s),placeholder:"请确认新密码"},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{class:"submit-btn-wrapper"},{default:e(()=>[t(p,{class:"submit-btn",onClick:P},{default:e(()=>[d("确认修改")]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-375098ca"]]);export{_ as default};
